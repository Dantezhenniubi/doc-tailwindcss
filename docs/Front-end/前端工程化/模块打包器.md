# 模块打包器（Module Bundler） 
Webpack、Rollup、Parcel、Vite 等现代 JavaScript 模块打包器（Module Bundler） 都内置了摇树优化功能。

## 工作原理：
- 依赖图谱构建： 打包器从项目入口文件开始，分析所有的 import 和 export 语句，构建出完整的模块依赖关系图谱。
- 静态分析： 这是关键！打包器进行静态分析（在代码不运行的情况下分析其结构）。它追踪哪些导出的值（函数、类、变量）真正被其他模块导入并使用了。
- 标记未使用代码： 通过静态分析，打包器可以精确地标记出哪些导出从未被任何活跃代码路径导入使用过。
- 安全移除： 在最终生成的打包文件（bundle）中，那些被标记为“未使用”的导出代码（有时甚至整个未被引用的模块）会被安全地剔除掉。未被导入的模块自然也不会包含在内。

## 关键前提：
- ES6 模块语法： 摇树优化依赖 ES6 的 import 和 export 语句。因为它们是静态的（在代码顶层、不可动态生成），打包器才能在构建时可靠地进行分析。
- 避免副作用： 模块的代码最好应该是“纯净”的，即除了导出值外，没有执行其他操作（如修改全局变量、立即执行操作等）。如果模块有副作用，打包器需要特殊配置（如 package.json 中的 "sideEffects": false 属性或特定注释）来判断这些副作用代码是否可安全移除。
