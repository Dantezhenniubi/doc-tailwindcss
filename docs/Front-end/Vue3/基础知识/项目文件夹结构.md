---
outline: [2, 6]
tag: ['vue', 'vue3', '基础知识']
---

# 项目文件夹结构

来自[掘金文章](https://juejin.cn/post/7547927755096473600)

## hooks 文件夹
`hooks` 文件夹也可以叫`Composables`文件夹，用于存放可复用的`Composable`函数，即存放自定义的 `Composables（组合式API函数）`。在 Vue 3 中，`组合式 API（Composition API）`是核心特性之一，允许开发者将组件的逻辑抽离为可复用的函数。这些函数通常被称为“组合式函数”或“Composables”。

### 具体用途

- 封装可复用的逻辑：将与特定功能相关的逻辑（如状态管理、事件处理、生命周期逻辑等）封装为独立函数，供多个组件使用。
- 替代 Mixins：在 Vue 2 中，`Mixins` 常用于复用逻辑，但在 Vue 3 中，`Composables` 提供了一种更灵活、更清晰的方式。
- 提高代码可读性：通过将逻辑集中到 `hooks` 文件夹中，避免组件代码过于冗长。

### 命名与文件结构

- 文件通常以 use 开头，例如 `useCounter.js`、`useAuth.js`、`useFetch.js`，这是 Vue 3 官方推荐的命名约定。
- 每个文件导出一个函数，函数内部使用 Vue 的响应式 API（如 `ref`、`reactive`、`computed` 等）来管理状态或逻辑。

### 示例

假设你需要一个处理计数器逻辑的 Composable，hooks/useCounter.js 可能如下：
```js
import { ref, computed } from 'vue';

export function useCounter(initialValue = 0) {
  const count = ref(initialValue);

  const increment = () => {
    count.value++;
  };

  const decrement = () => {
    count.value--;
  };

  const isEven = computed(() => count.value % 2 === 0);

  return {
    count,
    increment,
    decrement,
    isEven,
  };
}
```

### 典型场景

- useFetch：封装数据请求逻辑。
- useAuth：处理用户认证状态。
- useWindowSize：监听窗口大小变化。
- useForm：管理表单状态和验证逻辑。
- use。。。。: 等等

### 注意事项
- 每个 Composable 函数都应该是独立的，不应该依赖于其他 Composable 或全局状态。
- 考虑将与组件相关的逻辑（如事件处理、模板逻辑等）也封装到 Composable 中，以保持代码的组织性和可维护性。
- 避免在 Composable 中直接操作 DOM 元素，而是通过 Vue 的响应式 API 来管理状态。
- 避免在 Composable 中使用全局状态，而是通过参数或返回值传递数据。
- 考虑将 Composable 函数拆分为多个小函数，以提高可维护性和可测试性。
- 避免在 Composable 中使用异步操作，如网络请求、定时器等，而是通过返回一个 Promise 来处理异步逻辑。

## utils 文件夹

`utils` 文件夹用于存放通用的 工具函数 或 辅助函数，这些函数通常是与 `Vue` 无关的纯 `JavaScript/TypeScript` 逻辑，适用于各种场景（不仅限于 Vue 组件）。

### 具体用途

- 通用逻辑：提供与业务逻辑或框架无关的工具函数，如字符串处理、日期格式化、数组操作等。
- 跨项目复用：这些函数通常是通用的，可以在不同项目中复用。
- 非响应式逻辑：与 `hooks` 不同，`utils` 中的函数通常不涉及 Vue 的响应式系统。

### 命名与文件结构

- 文件名通常描述函数功能，如 `stringUtils.js`、`dateUtils.js`、`mathUtils.js`。
- 每个文件可能包含多个相关函数，或者一个文件专注于一个特定功能。

### 示例

假设你需要一个处理日期格式化的工具函数，`utils/formatDate.js` 可能如下：
```js
export function formatDate(date, format = 'YYYY-MM-DD') {
  const d = new Date(date);
  const year = d.getFullYear();
  const month = String(d.getMonth() + 1).padStart(2, '0');
  const day = String(d.getDate()).padStart(2, '0');

  return format
    .replace('YYYY', year)
    .replace('MM', month)
    .replace('DD', day);
}
```

### 典型场景

- `stringUtils.js`：字符串操作，如截断、首字母大写。
- `arrayUtils.js`：数组操作，如去重、排序。
- `storageUtils.js`：封装 `localStorage` 或 `sessionStorage` 操作。
- `httpUtils.js`：封装 `HTTP` 请求（如 `axios` 的配置）。

### 注意事项

- 确保函数是纯函数（无副作用）或明确记录副作用。
- 避免将与 Vue 响应式相关的逻辑放入 `utils`，这类逻辑应放在 `hooks` 中。
- 保持函数的通用性和独立性，避免耦合业务逻辑。

## data 文件夹

`data` 文件夹通常用于存放 **静态数据**、**模拟数据** 或 **常量**，这些数据可能是项目中常用的配置、枚举、默认值或 mock 数据。

### 具体用途

- 静态配置：存储常量、枚举值、配置项等。
- 模拟数据：在开发阶段模拟后端接口返回的数据。
- 数据结构定义：定义一些复杂的数据结构，供项目其他部分引用。

### 命名与文件结构
- 文件名通常反映数据内容，如 `constants.js`、`mockUsers.js`、`enums.js`。
- 数据通常以对象、数组或简单变量的形式导出。

### 示例

`data/constants.js`：
```js
export const API_BASE_URL = 'https://api.example.com';
export const DEFAULT_TIMEOUT = 5000;
export const API_ENDPOINTS = {
  USERS: '/api/users',
  PRODUCTS: '/api/products',
};

export const ROLES = {
  ADMIN: 'admin',
  USER: 'user',
  GUEST: 'guest',
};
```

`data/mockUsers.js`:
```js
export const mockUsers = [
  { id: 1, name: 'Alice', role: ROLES.ADMIN },
  { id: 2, name: 'Bob', role: ROLES.USER },
  { id: 3, name: 'Charlie', role: ROLES.GUEST },
];
```

### 典型场景
- `enums.js`：定义枚举值，如状态码、角色类型。
- `config.js`：存储全局配置，如 API 地址、主题颜色。
- `mockData.js`：模拟后端数据，用于开发或测试。
- `defaults.js`：定义表单或组件的默认值。

### 注意事项

- 确保数据是静态的，不应包含动态逻辑（动态逻辑应放在 `hooks` 或 `utils` 中）。
- 对于大型项目，可以按模块进一步细分 `data` 文件夹，如 `data/users`、`data/products`。
- 如果数据需要响应式特性，考虑将其放入 `hooks` 中，使用 `ref` 或 `reactive` 管理。
